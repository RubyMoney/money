inherit_from: .rubocop_todo.yml

plugins:
  - rubocop-performance
  - rubocop-rake
  - rubocop-rspec

AllCops:
  NewCops: enable

# Bundler

Bundler/OrderedGems:
  # Sort the gemspec dependencies by logical order instead of alphabetical.
  Enabled: false

# Gemspec

Gemspec/OrderedDependencies:
  # Sort the gemspec dependencies by logical order instead of alphabetical.
  Enabled: false

# Layout

Layout/FirstHashElementIndentation:
  EnforcedStyle: consistent

Layout/SpaceInsideArrayPercentLiteral:
  # Sometimes spacing is used to align amounts.
  Enabled: false

# Lint

Lint/BinaryOperatorWithIdenticalOperands:
  # In specs we want to test instances of Money are really equal.
  Exclude:
    - 'spec/**/*'

Lint/EmptyClass:
  # Allow defining empty classes, since it can be used as a base class.
  Enabled: false

# Naming

Naming/PredicateMethod:
  AllowedMethods:
    # In Ruby, the convention is to return `nil` and not `false` when calling
    # `#nonzero?`.
    - nonzero?

# RSpec

RSpec/DescribedClass:
  Exclude:
    # Prefer Money.new(…) to described_class.new(…)
    - 'spec/money_spec.rb'
    - 'spec/money/formatting_spec.rb'

RSpec/IdenticalEqualityAssertion:
  # Allow identical expressions on both sides of the equality since we are
  # testing defining equality.
  Enabled: false

RSpec/MultipleExpectations:
  # Do not limit the amount of expectations in a spec
  Enabled: false

RSpec/VerifiedDoubles:
  # Allow building unverified doubles with `double :foo`.
  IgnoreSymbolicNames: true

# Style

Style/ClassAndModuleChildren:
  # Sometimes the nested is better than the compact.
  Enabled: false

Style/Documentation:
  # Not all modules need a comment.
  Enabled: false

Style/FrozenStringLiteralComment:
  # Add `# frozen_string_literal: true` to all files.
  EnforcedStyle: always_true
  SafeAutoCorrect: true

Style/GuardClause:
  # Not enforced since guard clauses can cause long lines as well.
  Enabled: false

Style/IfUnlessModifier:
  # Not enforced since having an if on its own line can help shorten a line.
  Enabled: false

Style/NumericPredicate:
  # Sometimes we prefer testing `== 0` over `.zero?`.
  Enabled: false

Style/NumericLiterals:
  # Some numbers in specs are tricky to represent with regular spacing.
  Enabled: false

Style/OptionalBooleanParameter:
  # We also need backwards compatiblity so it doesn’t always make sense to
  # disallow arguments with a boolean default value.
  Enabled: false

Style/PreferredHashMethods:
  # Money::FormattingRules has `#has_key?` but not `#key?`.
  Enabled: false

Style/QuotedSymbols:
  # Prefer :"some symbol" to :'some symbol'.
  EnforcedStyle: double_quotes

Style/ReturnNilInPredicateMethodDefinition:
  AllowedMethods:
    # In Ruby, the convention is to return `nil` and not `false` when calling
    # `#nonzero?`.
    - nonzero?

Style/SafeNavigation:
  # Allow calling `foo && foo.bar` instead of `foo&.bar` since `foo` can also
  # be false.
  Enabled: false

Style/StringLiterals:
  # Prefer "double quotes" over 'single quotes'.
  EnforcedStyle: double_quotes

Style/SymbolArray:
  # Prefer [:a, :b] to %i[a b]
  EnforcedStyle: brackets

Style/TrailingCommaInArguments:
  # Prefer trailing commas in multiline arguments:
  #   call(
  #     a: 1,
  #     b: 2,
  #   )
  EnforcedStyleForMultiline: diff_comma

Style/TrailingCommaInArrayLiteral:
  # Prefer trailing commas in arrays:
  #   [
  #     1,
  #     2,
  #   ]
  EnforcedStyleForMultiline: diff_comma

Style/TrailingCommaInHashLiteral:
  # Prefer trailing commas in multiline hashes:
  #   {
  #     a: 1,
  #     b: 2,
  #   }
  EnforcedStyleForMultiline: diff_comma

Style/YodaCondition:
  # Sometimes in specs it makes more sense to write
  #   2 >= Money.new(2, 'USD')
  # over
  #   Money.new(2, 'USD') <= 2
  Enabled: false
